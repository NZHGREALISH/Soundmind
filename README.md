# Soundmind - 音乐记忆游戏

Soundmind 是一个基于 DE1-SoC FPGA 开发的音乐记忆游戏。玩家需要记住并重复播放一系列音符，通过不同难度级别来挑战自己的音乐记忆能力。

## 功能特点

- 🎵 支持 5 个音符（C、D、E、F、G）的播放和识别
- 🎮 图形化界面显示
- 🎯 4 个难度级别
- 📚 学习模式支持单独练习
- 🎨 精美的游戏界面和动画效果

## 硬件要求

- DE1-SoC FPGA 开发板
- PS/2 键盘
- VGA 显示器
- 音频输出设备

## 游戏状态

游戏包含以下状态：

1. **开始界面** (`GAME_START`)
   - 显示游戏标题和开始选项
   - 按空格键进入学习模式

2. **学习模式** (`GAME_STUDY`)
   - 可以单独练习每个音符
   - 按 C、D、E、F、G 键试听对应音符
   - 按回车键进入设置界面

3. **设置界面** (`GAME_SETUP`)
   - 选择游戏难度（0-3）
   - 使用上下箭头键调整难度
   - 按空格键开始游戏

4. **游戏进行中** (`GAME_PLAYING`)
   - 系统会随机播放一系列音符
   - 玩家需要记住并按照正确顺序输入
   - 使用 C、D、E、F、G 键输入音符

5. **成功界面** (`GAME_SUCCESS`)
   - 显示成功信息和得分
   - 按空格键返回开始界面

6. **失败界面** (`GAME_OVER`)
   - 显示失败信息
   - 按空格键返回开始界面

## 难度级别

- **难度 0**：最基础难度
  - 音符显示时间长
  - 有充足的记忆时间
  - 适合初学者

- **难度 1**：初级难度
  - 音符显示时间适中
  - 有适当的暂停时间
  - 适合熟悉游戏机制的玩家

- **难度 2**：中级难度
  - 音符显示时间较短
  - 暂停时间减少
  - 需要较好的记忆能力

- **难度 3**：高级难度
  - 音符显示时间最短
  - 几乎没有暂停时间
  - 需要极强的记忆能力

## 项目结构

```
Soundmind/
├── state/              # 主要源代码
│   ├── display.c      # 主程序文件
│   ├── *.h           # 音频和图像资源文件
│   └── Makefile      # 编译配置文件
├── png/               # 图像资源
├── music_file/        # 音频资源
└── old_version/       # 旧版本代码
```

## 编译和运行

1. 确保已安装必要的开发工具：
   - ARM 交叉编译工具链
   - DE1-SoC 开发环境

2. 编译项目：
   ```bash
   cd state
   make
   ```

3. 将编译好的程序下载到 DE1-SoC：
   ```bash
   make download
   ```

## 控制说明

- **空格键**：开始游戏/确认选择
- **上下箭头**：调整难度级别
- **C、D、E、F、G 键**：输入对应音符
- **回车键**：在学习模式中进入设置界面

## 技术细节

### 硬件接口

- 显示控制：`0xFF203020`
- PS/2 键盘：`0xFF200100`
- 音频控制：`0xFF203040`
- 计时器：`0xFF202000`

### 显示系统

- 分辨率：320x240
- 使用双缓冲技术
- RGB565 颜色格式

### 音频系统

- 支持 5 个音符的实时播放
- 使用音频 FIFO 缓冲
- 可调节的音量和播放速度

## 贡献

欢迎提交 Issue 和 Pull Request 来改进项目。

## 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。
